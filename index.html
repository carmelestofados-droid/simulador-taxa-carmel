<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador de Taxa | Carmel Móveis e Estofados</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  margin: 0;
}
header {
  background: #111;
  color: #fff;
  padding: 18px 15px;
  text-align: center;
}
header h2 {
  margin: 0;
  font-size: 22px;
}
header p {
  margin: 4px 0 0;
  font-size: 14px;
  opacity: 0.9;
}
.container {
  padding: 20px;
}
label {
  font-weight: bold;
}
input {
  width: 100%;
  padding: 10px;
  margin: 8px 0 15px;
  font-size: 16px;
}
.result {
  background: #fff;
  padding: 15px;
  border-radius: 6px;
  margin-top: 20px;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}
th, td {
  padding: 8px;
  border-bottom: 1px solid #ddd;
  text-align: center;
}
th {
  background: #f7f7f7;
}
</style>
</head>

<body>

<header>
  <h2>Simulador de Taxa</h2>
  <p>Carmel Móveis e Estofados</p>
</header>

<div class="container">

<label>Valor que você quer receber (R$)</label>
<input
  type="number"
  id="valor"
  placeholder="Ex: 1500"
  oninput="calcularParcelas()"
>

<div class="result" id="resultado"></div>

</div>

<script>
const adicional = 1.5; // acréscimo geral
const taxaFixaParcelado = 2.94;

// taxas do Mercado Pago
const taxasParcelas = {
  1: 3.09,   // crédito à vista
  2: 2.80,
  3: 3.58,
  4: 4.44,
  5: 5.25,
  6: 5.80,
  7: 6.97,
  8: 7.53,
  9: 8.82,
  10: 8.85,
  11: 10.27,
  12: 10.55
};

function calcularParcelas() {
  const valor = parseFloat(document.getElementById("valor").value);
  if (!valor) {
    document.getElementById("resultado").innerHTML = "";
    return;
  }

  let html = `
    <p><strong>Valor líquido desejado:</strong> R$ ${valor.toFixed(2)}</p>
    <table>
      <tr>
        <th>Parcelas</th>
        <th>Valor da parcela</th>
        <th>Total do cliente</th>
      </tr>
  `;

  for (let i = 1; i <= 12; i++) {
    let taxaBase;

    if (i === 1) {
      // crédito à vista
      taxaBase = taxasParcelas[1];
    } else {
      // parcelado
      taxaBase = taxaFixaParcelado + taxasParcelas[i];
    }

    const taxaFinal = taxaBase + adicional;
    const taxaDecimal = taxaFinal / 100;

    const totalCliente = valor / (1 - taxaDecimal);
    const valorParcela = totalCliente / i;

    html += `
      <tr>
        <td>${i}x</td>
        <td>R$ ${valorParcela.toFixed(2)}</td>
        <td>R$ ${totalCliente.toFixed(2)}</td>
      </tr>
    `;
  }

  html += "</table>";
  document.getElementById("resultado").innerHTML = html;
}
</script>

</body>
</html>
